import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as e}from"./app-TVxRU3eW.js";const l={};function t(h,i){return e(),a("div",null,i[0]||(i[0]=[n(`<h1 id="elasticsearch使用记录" tabindex="-1"><a class="header-anchor" href="#elasticsearch使用记录"><span>ElasticSearch使用记录</span></a></h1><h2 id="网址" tabindex="-1"><a class="header-anchor" href="#网址"><span>网址</span></a></h2><ul><li>官网 <a href="https://www.elastic.co/cn/" target="_blank" rel="noopener noreferrer">https://www.elastic.co/cn/</a></li><li>分词器ik <a href="https://github.com/medcl/elasticsearch-analysis-ik/releases" target="_blank" rel="noopener noreferrer">https://github.com/medcl/elasticsearch-analysis-ik/releases</a></li></ul><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="centos-docker" tabindex="-1"><a class="header-anchor" href="#centos-docker"><span>centos docker</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># docker hub 查看 镜像 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elasticsearch:8.7.0</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 选择的版本 最好和分词器版本对一下 es 版本迭代很快 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cat-net</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> es8.7.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;discovery.type=single-node&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9200:9200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elasticsearch:8.7.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 浏览器访问 ip+9200 当前版本默认 https 即 https://ip:port 此时需要登录 即启动成功</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修改密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> es8.7.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/share/elasticsearch/bin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">elasticsearch-reset-password</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --username</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elastic</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 根据提示修改密码即可</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 退出容器 exit</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">exit</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 浏览器访问 ip+9200 当前版本默认 https 即 https://ip:port  账号密码 elastic/修改的密码</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 中文分词器ik</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载 wget https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v8.7.0/elasticsearch-analysis-ik-8.7.0.zip</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 复制到容器根目录下</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elasticsearch-analysis-ik-8.7.0.zip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> es8.7.0:/usr/share/elasticsearch/plugins</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> es8.7.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/share/elasticsearch/plugins</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建插件位置目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/share/elasticsearch/plugins/ik</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 移动到上面的文件夹中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elasticsearch-analysis-ik-8.7.0.zip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/share/elasticsearch/plugins/ik</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ik</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elasticsearch-analysis-ik-8.7.0.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> elasticsearch-analysis-ik-8.7.0.zip</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 退出容器并重启容器</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> es8.7.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装kibana 配置遇到问题 停滞</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载 对应版本 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana:8.7.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -itd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana8.7.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cat-net</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5601:5601</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana:8.7.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 在es 镜像中 生成链接 将链接填入kibana页面中 进行登录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bin/elasticsearch-create-enrollment-token</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --scope</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 生成填写验证码 进入 kibana容器中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bin/kibana-verification-code</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 登录账号密码 为 es 创建是设置的</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 配置中文 将容器内配置文件复制到本机</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana8.7.0:/usr/share/kibana/config/kibana.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 编辑 vim kibana.yml 增加配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">i18n.locale:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;zh-CN&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 复制回容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana8.7.0:/usr/share/kibana/config</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 重启容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kibana8.7.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6)]))}const p=s(l,[["render",t],["__file","使用记录.html.vue"]]),c=JSON.parse('{"path":"/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ElasticSearch/%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95.html","title":"ElasticSearch使用记录","lang":"zh-CN","frontmatter":{"title":"ElasticSearch使用记录","shortTitle":"使用记录","icon":"note-sticky","isOriginal":true,"date":"2024-06-16T00:00:00.000Z","order":1,"category":["学习记录"],"tag":["es","使用记录"],"feed":[{"title":"ElasticSearch使用记录"}],"description":"ElasticSearch使用记录 网址 官网 https://www.elastic.co/cn/ 分词器ik https://github.com/medcl/elasticsearch-analysis-ik/releases 安装 centos docker","head":[["meta",{"property":"og:url","content":"https://xiaomaohuifaguang.github.io/blog/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ElasticSearch/%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95.html"}],["meta",{"property":"og:site_name","content":"小猫会发光"}],["meta",{"property":"og:title","content":"ElasticSearch使用记录"}],["meta",{"property":"og:description","content":"ElasticSearch使用记录 网址 官网 https://www.elastic.co/cn/ 分词器ik https://github.com/medcl/elasticsearch-analysis-ik/releases 安装 centos docker"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-17T16:34:48.000Z"}],["meta",{"property":"article:author","content":"小猫会发光"}],["meta",{"property":"article:tag","content":"es"}],["meta",{"property":"article:tag","content":"使用记录"}],["meta",{"property":"article:published_time","content":"2024-06-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-17T16:34:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ElasticSearch使用记录\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-06-16T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-17T16:34:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小猫会发光\\",\\"url\\":\\"https://github.com/xiaomaohuifaguang\\"}]}"]]},"headers":[{"level":2,"title":"网址","slug":"网址","link":"#网址","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[{"level":3,"title":"centos docker","slug":"centos-docker","link":"#centos-docker","children":[]}]}],"git":{"createdTime":1718530901000,"updatedTime":1718642088000,"contributors":[{"name":"小猫会发光","email":"xiaomaohuifaguang@163.com","commits":2}]},"readingTime":{"minutes":1.56,"words":468},"filePathRelative":"学习记录/ElasticSearch/使用记录.md","localizedDate":"2024年6月16日","excerpt":"\\n<h2>网址</h2>\\n<ul>\\n<li>官网 <a href=\\"https://www.elastic.co/cn/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.elastic.co/cn/</a></li>\\n<li>分词器ik <a href=\\"https://github.com/medcl/elasticsearch-analysis-ik/releases\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/medcl/elasticsearch-analysis-ik/releases</a></li>\\n</ul>","autoDesc":true}');export{p as comp,c as data};
